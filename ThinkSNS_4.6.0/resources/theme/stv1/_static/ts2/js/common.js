function async_page(url,target,callback){if(!url)return!1;if(target)var $target=$(target);return $.post(url,{},function(txt){if(txt=eval("("+txt+")"),txt.status)target&&$target.html(txt.data),callback&&(callback.match(/[(][^()]*[)]/)?eval(callback):eval(callback)(txt)),txt.info&&ui.success(txt.info);else if(txt.info)return ui.error(txt.info),!1}),!0}function async_turn_page(t,e){$(t).click(function(t){var i=$(t.target),o=i.attr("href");return o&&async_page(o,e),!1})}function async_form(form){var $form=$(form?form:"form[ajax='ajax']");$form.bind("submit",function(){var callback=$(this).attr("callback"),options={success:function(txt){txt=eval("("+txt+")"),callback?callback.match(/[(][^()]*[)]/)?eval(callback):eval(callback)(txt):txt.status&&txt.info?ui.success(txt.info):txt.info&&ui.error(txt.info)}};return $(this).ajaxSubmit(options),!1})}function copy_clip(t){var e=function(t){if(window.clipboardData&&jQuery.browser.msie&&jQuery.browser.version<7)return window.clipboardData.clearData(),window.clipboardData.setData("Text",t),!0;if(jQuery.browser.msie)try{return window.clipboardData.clearData(),window.clipboardData.setData("Text",t),!0}catch(e){return!1}else try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");var i=Components.classes["@mozilla.org/widget/clipboard;1"].createInstance(Components.interfaces.nsIClipboard);if(!i)return;var o=Components.classes["@mozilla.org/widget/transferable;1"].createInstance(Components.interfaces.nsITransferable);if(!o)return;o.addDataFlavor("text/unicode");var n={};n=Components.classes["@mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString);var s=t;n.data=s,o.setTransferData("text/unicode",n,2*s.length);var a=Components.interfaces.nsIClipboard;return i?(i.setData(o,null,a.kGlobalClipboard),!0):!1}catch(e){return!1}};return e(t)?(ui.success("复制成功！请Ctrl+V键粘贴到要加入的页面。"),!0):(ui.error("你的浏览器不支持脚本复制或你拒绝了浏览器安全确认，请尝试手动[Ctrl+C]复制。"),!1)}function denounce(t,e,i,o,n){$.post(U("home/Widget/denounce"),{from:t,aid:e,content:i,fuid:o,uid:n},function(t){ui.box.show(t,{title:"举报",closeable:!0})})}function setBlacklist(t,e){$.post(U("home/Account/setBlackList"),{uid:t,type:e},function(){ui.success("设置成功"),location.reload()})}function dofollow(t,e,i){var o="";$("#follow_state").html('<img src="'+_THEME_+'/images/icon_waiting.gif" width="15">'),$.post(U("weibo/Operate/follow"),{uid:i,type:t},function(t){"14"==t&&ui.error("关注人数已超过设置最大数量，关注失败！"),"12"==t?(o=followState("havefollow"),followGroupSelectorBox(i)):"13"==t?(o=followState("eachfollow"),followGroupSelectorBox(i)):"00"==t?(ui.error("对方不允许你关注"),o=followState("unfollow",e,i)):"03"==t?(ui.error("不能关注自己"),o=followState("unfollow",e,i)):o=followState(),$("#follow_state").html(o)})}function dolistfollow(t,e,i){var o="",e=e,i=i;$("#follow_list_"+i).html('<img src="'+_THEME_+'/images/icon_waiting.gif" width="15">'),$.post(U("weibo/Operate/follow"),{uid:i,type:t},function(t){"12"==t?(o=followState("havefollow",e,i),followGroupSelectorBox(i)):"13"==t?(o=followState("eachfollow",e,i),followGroupSelectorBox(i)):"00"==t?(ui.error("对方不允许你关注"),o=followState("unfollow",e,i)):(o=followState("",e,i),location.reload()),$("#follow_list_"+i).html(o)})}function followState(t,e,i){return e=e||"dofollow",i=i||_UID_,"havefollow"==t?html='<div class="btn_relation"><span>已关注&nbsp;&nbsp;|&nbsp;&nbsp;</span><a href="javascript:void(0);" onclick="'+e+"('unflollow','"+e+"',"+i+')">取消</a></div>':"eachfollow"==t?html='<div class="btn_relation btn_relation2"><span>互相关注&nbsp;&nbsp;|&nbsp;&nbsp;</span><a href="javascript:void(0);" onclick="'+e+"('unflollow','"+e+"',"+i+')">取消</a></div>':(0!=i&&(html='<a class="add_atn" href="javascript:void(0);" onclick="'+e+"('dofollow','"+e+"',"+i+')">加关注</a>'),0==i&&(html="")),html}function followGroupSelector(t){"none"==$(".followGroupStatus"+t).css("display")&&$.post(U("weibo/FollowGroup/selectorList"),{fid:t},function(e){$(".followGroupStatus"+t).html(e),$(".followGroupStatus"+t).css("display","block")})}function followGroupSelectorClose(t){$(".followGroupStatus"+t).hide(),$(".followGroupStatus"+t).html("")}function setFollowGroupTab(t){var e=t?"修改分组":"创建分组";t=t?"&gid="+t:"",ui.box.load(U("weibo/FollowGroup/setGroupTab")+t,{title:e})}function addFollowTopic(){var name=$("input[name='quick_name']").val();return name=name.replace(/(^\s*)|(\s*$)/g,""),""==name?(ui.error("请输入话题名称"),!1):void $.post(U("weibo/operate/followtopic"),{name:name},function(txt){txt=eval("("+txt+")"),"12"==txt.code?($("input[name='quick_name']").val(""),$(".quick_win").hide(function(){location.replace(location.href)}),ui.success("添加关注话题成功")):ui.error("11"==txt.code?"已关注过此话题":"关注失败")})}function deleteFollowTopic(t,e){$.post(U("weibo/operate/unfollowtopic"),{topicId:e},function(){$(t).parents("li").remove()})}function AutoResizeImage(t,e,i){var o=new Image;o.src=i.src;var n,s,a=1,l=o.width,c=o.height;s=t/l,n=e/c,0==t&&0==e?a=1:0==t?1>n&&(a=n):0==e?1>s&&(a=s):(1>s||1>n)&&(a=n>=s?s:n),1>a&&(l*=a,c*=a),i.height=c,i.width=l}function U(t,e){var i=_ROOT_+"/index.php";return t=t.split("/"),(""==t[0]||"@"==t[0])&&(t[0]=APPNAME),t[1]||(t[1]="Index"),t[2]||(t[2]="index"),i=i+"?app="+t[0]+"&mod="+t[1]+"&act="+t[2],e&&(e=e.join("&"),i=i+"&"+e),i}function shortcut(t,e,i){var o={type:"keydown",propagate:!1,target:document};if(i)for(var n in o)"undefined"==typeof i[n]&&(i[n]=o[n]);else i=o;var s=i.target;"string"==typeof i.target&&(s=document.getElementById(i.target));var a=function(o){o=o||window.event,o.keyCode?code=o.keyCode:o.which&&(code=o.which);for(var n=String.fromCharCode(code).toLowerCase(),s=t.toLowerCase().split("+"),a=0,c={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},r={esc:27,escape:27,tab:9,space:32,"return":13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,"break":19,insert:45,home:36,"delete":46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},u=0;k=s[u],u<s.length;u++)"ctrl"==k||"control"==k?o.ctrlKey&&a++:"shift"==k?o.shiftKey&&a++:"alt"==k?o.altKey&&a++:k.length>1?r[k]==code&&a++:n==k?a++:c[n]&&o.shiftKey&&(n=c[n],n==k&&a++);if(a==s.length){if(0!=l)return!1;if(l=1,setTimeout(function(){l=0},1500),e(o),!i.propagate)return o.cancelBubble=!0,o.returnValue=!1,o.stopPropagation&&(o.stopPropagation(),o.preventDefault()),!1}},l=0;s.addEventListener?s.addEventListener(i.type,a,!1):s.attachEvent?s.attachEvent("on"+i.type,a):s["on"+i.type]=a}function photo_resize(t,e){$(t).width();$(t+" img").each(function(){var t=e||590,i=$(this);-[1]?(image=new Image,image.src=$(this).attr("src"),image.onload=function(){image.width>=t&&(i.click(function(){tb_show("",this.src,!1)}),i.width(t),i.height(t/image.width*image.height))}):i.width()>=t&&(i.click(function(){tb_show("",this.src,!1)}),i.width(t),i.height(t/i.width()*i.height()))})}function changeverify(){var t=new Date,e=t.getTime(),i=_PUBLIC_+"/captcha.php";$("#verifyimg").attr("src",i+"?"+e)}!function(t){t.fn.extend({insertAtCaret:function(e){var i=t(this)[0];if(document.selection)this.focus(),sel=document.selection.createRange(),sel.text=e,this.focus();else if(i.selectionStart||"0"==i.selectionStart){var o=i.selectionStart,n=i.selectionEnd,s=i.scrollTop;i.value=i.value.substring(0,o)+e+i.value.substring(n,i.value.length),this.focus(),i.selectionStart=o+e.length,i.selectionEnd=o+e.length,i.scrollTop=s}else this.value+=e,this.focus()}})}(jQuery);var getLength=function(t,e){return t+="",Math.ceil(1==e?t.replace(/((news|telnet|nttp|file|http|ftp|https):\/\/){1}(([-A-Za-z0-9]+(\.[-A-Za-z0-9]+)*(\.[-A-Za-z]{2,5}))|([0-9]{1,3}(\.[0-9]{1,3}){3}))(:[0-9]*)?(\/[-A-Za-z0-9_\$\.\+\!\*\(\),;:@&=\?\/~\#\%]*)*/gi,"xxxxxxxxxxxxxxxxxxxx").replace(/^\s+|\s+$/gi,"").replace(/[^\x00-\xff]/gi,"xx").length/2:t.replace(/^\s+|\s+$/gi,"").replace(/[^\x00-\xff]/gi,"xx").length/2)},subStr=function(t,e){if(!t)return"";e=e>0?2*e:280;for(var i=0,o="",n=0;n<t.length;n++){if(t.charCodeAt(n)>255?i+=2:i++,i>e)return o;o+=t.charAt(n)}return t};ui=window.ui||{success:function(t,e){var i=1==e?"html_clew_box clew_error ":"html_clew_box",o='<div class="" id="ui_messageBox" style="display:none;z-index:1000001"><div class="html_clew_box_close"><a href="javascript:void(0)" onclick="$(this).parents(\'.html_clew_box\').hide()" title="关闭">关闭</a></div><div class="html_clew_box_con" id="ui_messageContent">&nbsp;</div></div>',n=0,s=function(t){n||($("body").append(o),n=1),$("#ui_messageContent").html(t),$("#ui_messageBox").attr("class",i);var e=ui.box._viewport();jQuery('<div id="boxy-modal-blackout" class="boxy-modal-blackout"><iframe style="position:absolute;_filter:alpha(opacity=0);opacity=0;z-index:-1;width:100%;height:100%;top:0;left:0;scrolling:no;" frameborder="0" src="about:blank"></iframe></div>').css(jQuery.extend(ui.box._cssForOverlay(),{zIndex:9999999,opacity:.2})).appendTo(document.body),$("#ui_messageBox").css({left:e.left+e.width/2-$("#ui_messageBox").outerWidth()/2+"px",top:e.top+e.height/2-$("#ui_messageBox").outerHeight()/2+"px"}),$("#ui_messageBox").fadeIn("slow")},a=function(){setTimeout(function(){$("#ui_messageBox").fadeOut("fast",function(){jQuery(".boxy-modal-blackout:last").remove()})},1500)};s(t),a()},error:function(t){ui.success(t,1)},load:function(){var t=0,e='<div class="html_clew_box" id="ui_loading" style="display:none"><div class="html_clew_box_con"><span class="ico_waiting">加载中……</span></div></div>';t||($("body").append(e),t=1),$("#ui_loading").css({right:"100px",top:$(document).scrollTop()+"px"}),$("#ui_loading").fadeIn("slow")},loaded:function(){var t="#ui_loading";$(t).fadeOut("slow")},sendmessage:function(t){t=t||"",ui.box.load(U("home/Message/post",["touid="+t]),{title:"发私信"})},confirm:function(o,text){var callback=$(o).attr("callback");text=text||"确定要做此项操作吗？",this.html='<div id="ts_ui_confirm" class="ts_confirm"><dl><a class="del" href="javascript:void(0)" onclick="$(\'.ts_confirm\').remove()"></a><dt class="txt"></dt><dd><input type="button" value="确定"  class="btn_b mr5"><input type="button" value="取消"  class="btn_w"></dd></dl></div>',$("body").append(this.html);var position=$(o).offset();$("#ts_ui_confirm").css({top:position.top+"px",left:position.left-$("#ts_ui_confirm").width()/2-40+"px",display:"none"}),$("#ts_ui_confirm .txt").html(text),$("#ts_ui_confirm").fadeIn("fast"),$("#ts_ui_confirm .btn_w").one("click",function(){$("#ts_ui_confirm").fadeOut("fast"),$("#ts_ui_confirm").remove()}),$("#ts_ui_confirm .btn_b").one("click",function(){$("#ts_ui_confirm").fadeOut("fast"),$("#ts_ui_confirm").remove(),eval(callback)})},emotions:function(o){var $talkPop=$("div.talkPop"),$body=$("body"),$o=$(o);null!==$talkPop.html()&&$("#emotions").remove(),1!=$talkPop.data("type")&&$talkPop.hide(),this.emotdata=$body.data("emotdata"),this.html='<div class="talkPop alL" id="emotions"><div style="position: relative; height: 7px; line-height: 3px;z-index:99"><img src="'+_THEME_+'/images/zw_img.gif" style="margin-left: 10px; position: absolute;" class="talkPop_arrow"></div><div class="talkPop_box"><div class="close" style="height:30px;line-height:30px;background-color:#F8FAFC;padding:0 10px;position:relative;*width:420px"><a onclick=" $(\'#emotions\').remove()" class="del" href="javascript:void(0)" title="关闭"> </a><span>常用表情</span></div><div class="faces_box" id="emot_content"><img src="'+_THEME_+'/images/icon_waiting.gif" width="20" class="alM"></div></div></div>',target_set=$o.attr("target_set"),$body.append(this.html);var position=$o.offset();$("#emotions").css({top:position.top+"px",left:position.left+"px","z-index":99999999});var _this=this;this.emotdata?_this.showContent(this.emotdata):$.post(U("home/user/emotions"),{target:$(this).attr("target_set")},function(txt){txt=eval("("+txt+")"),$body.data("emotdata",txt),_this.showContent(txt)}),this.showContent=function(t){var e="";$.each(t,function(t,i){e+='<a href="javascript:void(0)" title="'+i.title+'" onclick="ui.emotions_c(\''+i.emotion+"','"+target_set+'\')"><img src="'+_THEME_+"/images/expression/"+i.type+"/"+i.filename+'" width="24" height="24" /></a>'}),e+='<div class="c"></div>',$("#emot_content").html(e)}},emotions_c:function(t,e){$("#"+e).insertAtCaret(t),$("#"+e).focus(),$("#emotions").remove()},countNew:function(){$.getJSON(U("home/User/countNew"),function(t){var e=$(".message_list_container"),i=$("#message_list_container"),o={comment:{url:U("home/user/comments"),name:"我的评论"},atme:{url:U("home/user/atme"),name:"新@提到我"},message:{url:U("home/message/index"),name:"新的私信"},group_atme:{url:U("group/index/atme"),name:"群内@我的"},group_comment:{url:U("group/index/comment"),name:"群内评论"},group_bbs:{url:U("group/index/bbsNotify"),name:"群内帖子消息"},notify:{url:U("home/message/notify"),name:"系统通知"},appmessage:{url:U("home/message/appmessage"),name:"系统消息"}};if(e.html(""),t.total&&"0"!=t.total){for(var n in o)if(void 0!=t[n]&&parseInt(t[n])>0){var s=document.createElement("li"),a=document.createTextNode(t[n]+"条"+o[n].name+"，"),l=document.createElement("a");l.href=o[n].url,l.target="",l.innerHTML="查看消息",l.className="message_list_"+n,s.appendChild(a),s.appendChild(l),e.append(s),$(".message_list_"+n).live("click",function(){var t=$(this).attr("class");$.each($("."+t),function(){$(this).parent().remove()}),0==e.children("li").size()&&i.hide(),"message_list_comment"==t&&$("#app_left_count_comment").html(""),"message_list_atme"==t&&$("#app_left_count_atme").html("")})}e.show(),i.show()}else e.hide(),i.hide();$("#app_left_count_comment").html("0"!=t.comment?'(<font color="red">'+t.comment+"</font>)":""),$("#app_left_count_atme").html("0"!=t.atme?'(<font color="red">'+t.atme+"</font>)":"")})},closeCountList:function(t){$(t).attr("closed",!0),$(t).parent().hide()},getarea:function(t,e,i,o){var n=e?'class="'+e+'"':"",s='<select name="'+t+'_province" '+n+'><option>省/直辖市</option></select> <select name="'+t+'_city" '+n+' style="width:180px"><option value=0>不限</option></select>';document.write(s),$.getJSON(U("home/Public/getArea"),function(e){e=e.provinces;var n="<option>省/直辖市</option>";$.each(e,function(e,s){var a="",l="",c="<option>不限</option>";s.id==i&&(a='selected="true"',$.each(s.citys,function(t,e){for(var i in e)l=i==o?'selected="true"':"",c+='<option value="'+i+'" '+l+">"+e[i]+"</option>"}),$("select[name='"+t+"_city']").html(c)),n+='<option value="'+s.id+'" rel="'+e+'" '+a+">"+s.name+"</option>"}),$("select[name='"+t+"_province']").live("change",function(){var i="<option>不限</option>",o=$(this).find("option:selected").attr("rel");if(o){var n=e[o].citys;$.each(n,function(t,e){for(var o in e)i+="<option value="+o+">"+e[o]+"</option>"})}$("select[name='"+t+"_city']").html(i)}),$("select[name='"+t+"_province']").html(n)})}},function(){var config={boxID:"autoTalkBox",valuepWrap:"autoTalkText",wrap:"recipientsTips",listWrap:"autoTipsUserList",position:"autoUserTipsPosition",positionHTML:'<span id="autoUserTipsPosition">&nbsp;123</span>',className:"autoSelected"},html='<div id="autoTalkBox" style="text-align:left;z-index:-2000;top:$top$px;left:$left$px;width:$width$px;height:$height$px;z-index:1;position:absolute;scroll-top:$SCTOP$px;overflow:hidden;overflow-y:auto;visibility:hidden;word-break:break-all;word-wrap:break-word;"><span id="autoTalkText" style="font-size:14px;margin:0;"></span></div><div id="recipientsTips" class="recipients-tips"><h4>格式：@用户昵称</h4><ul id="autoTipsUserList"></ul></div>',listHTML='<li style="text-align:left"><a rel="$ID$" >@$SACCOUNT$</a></li>',D={$:function(t){return document.getElementById(t)},DC:function(t){return document.createElement(t)},EA:function(t,e,i,o){return t.addEventListener?("mousewheel"==e&&(e="DOMMouseScroll"),t.addEventListener(e,i,o),!0):t.attachEvent?t.attachEvent("on"+e,i):!1},ER:function(t,e,i){return t.removeEventListener?(t.removeEventListener(e,i,!1),!0):t.detachEvent?t.detachEvent("on"+e,i):!1},BS:function(){var t=document.body,e=document.documentElement,i=t.scrollTop+e.scrollTop;return left=t.scrollLeft+e.scrollLeft,{top:i,left:left}},FF:function(){var t=navigator.userAgent.toLowerCase();return/firefox\/([\d\.]+)/.test(t)}()},TT={info:function(t){var e=t.getBoundingClientRect(),i=t.offsetWidth,o=t.offsetHeight,n=t.style;return{top:e.top,left:e.left,width:i,height:o,style:n}},getCursorPosition:function(t){if(document.selection){t.focus();var e=document.selection,i=null;i=e.createRange();var o=i.duplicate();return o.moveToElementText(t),o.setEndPoint("EndToEnd",i),t.selectionStart=o.text.length-i.text.length,t.selectionEnd=t.selectionStart+i.text.length,t.selectionStart}return t.selectionStart},setCursorPosition:function(t,e){var i="end"==e?t.value.length:e;if(document.selection){var o=t.createTextRange();o.moveEnd("character",-t.value.length),o.moveEnd("character",i),o.moveStart("character",i),o.select()}else t.setSelectionRange(i,i),t.focus()},add:function(t,e){t.value;if(document.selection)document.selection.createRange().text=e;else{var i=t.selectionStart,o=t.value.length;t.value=t.value.slice(0,t.selectionStart)+e+t.value.slice(t.selectionStart,o),this.setCursorPosition(t,i+e.length)}},del:function(t,e){var i=this.getCursorPosition(t),o=t.scrollTop;t.value=t.value.slice(0,i-e)+t.value.slice(i),this.setCursorPosition(t,i-e),D.FF&&setTimeout(function(){t.scrollTop=o},10)}},DS={inquiry:function(t,e,i){for(var o=new RegExp(e,"i"),n=0,s=[];s.length<i&&n<t.length;)o.test(t[n].user)&&s.push(t[n]),n++;return s}},selectList={_this:null,index:-1,list:null,selectIndex:function(t){if("none"==D.$(config.wrap).style.display)return!0;var e=selectList.index;switch(t){case 40:e+=1;break;case 38:e-=1;break;case 13:return selectList._this.enter();case 32:return selectList._this.enter()}return e=e>=selectList.list.length?0:0>e?selectList.list.length-1:e,selectList.setSelected(e)},setSelected:function(t){return selectList.index>=0&&(selectList.list[selectList.index].className=""),selectList.list[t]&&(selectList.list[t].className=config.className),selectList.index=t,!1}},AutoTips=function(A){var elem=A.id?D.$(A.id):A.elem,checkLength=10,_this={},key="";return _this.start=function(){if(D.$(config.boxID))_this.updatePosstion();else{var t=html.slice(),e=TT.info(elem),i=D.DC("DIV"),o=D.BS();t=t.replace("$top$",e.top+o.top).replace("$left$",e.left+o.left).replace("$width$",e.width).replace("$height$",e.height).replace("$SCTOP$","0"),i.innerHTML=t;var n=document.body.lastChild;document.body.insertBefore(i,n)}},_this.keyupFn=function(t){var t=t||window.event,e=t.keyCode;if(38==e||40==e||13==e)return 13==e&&"none"!=D.$(config.wrap).style.display,!1;var i=TT.getCursorPosition(elem);if(!i)return _this.hide();var o=elem.value.slice(0,i),n=o.slice(-checkLength),s=n.match(/(\w+)?@(\S+)$|@$/);if(null==s)return _this.hide();var a=s[2]?s[2]:"";D.$(config.valuepWrap).innerHTML=o.slice(0,o.length-a.length).replace(/\n/g,"<br/>").replace(/\s/g,"&nbsp;")+config.positionHTML,_this.showList(a)},_this.showList=function(char){key=char,key.length<1||$.get(A.url,{key:key},function(txt){if(""==txt)return void _this.hide();var data=eval("("+txt+")"),html=listHTML.slice(),h="",len=data.length;if(0==len)return void _this.hide();for(var reg=new RegExp(char),em="<em>"+char+"</em>",i=0;len>i;i++){var hm=data[i].uname.replace(reg,em);h+=html.replace("$SACCOUNT$",hm).replace("$ID$",data[i].uname)}_this.updatePosstion();var p=D.$(config.position).getBoundingClientRect(),bs=D.BS(),d=D.$(config.wrap).style;d.top=p.top+20+bs.top+"px",d.left=p.left-5+"px",D.$(config.listWrap).innerHTML=h,_this.show()})},_this.KeyDown=function(t){var t=t||window.event,e=t.keyCode;return 38==e||40==e||13==e||32==e?selectList.selectIndex(e):!0},_this.updatePosstion=function(){var t=TT.info(elem),e=D.BS(),i=D.$(config.boxID).style;i.top=t.top+e.top+"px",i.left=t.left+e.left+"px",i.width=t.width+"px",i.height=t.height+"px",D.$(config.boxID).scrollTop=elem.scrollTop},_this.show=function(){selectList.list=D.$(config.listWrap).getElementsByTagName("li"),selectList.index=-1,selectList._this=_this,_this.cursorSelect(selectList.list),elem.onkeydown=_this.KeyDown,selectList.setSelected(0),$("#"+config.wrap).fadeIn("fast")},_this.cursorSelect=function(t){for(var e=0;e<t.length;e++)t[e].onmouseover=function(t){return function(){selectList.setSelected(t)}}(e),t[e].onclick=_this.enter},_this.hide=function(){selectList.list=null,selectList.index=-1,selectList._this=null,D.ER(elem,"keydown",_this.KeyDown),$("#"+config.wrap).fadeOut("fast")},_this.bind=function(){elem.onkeyup=_this.keyupFn,elem.onclick=_this.keyupFn,-1==navigator.userAgent.indexOf("MSIE")&&(elem.oninput=_this.keyupFn),$("body").live("click",function(){setTimeout(_this.hide,100)})},_this.enter=function(){return TT.del(elem,key.length,key),TT.add(elem,selectList.list[selectList.index].getElementsByTagName("A")[0].rel+" "),_this.hide(),!1},_this};window.userAutoTips=function(t){var e=AutoTips(t);e.start(),e.bind()}}(),function(){var t=function(t,e){try{this.dPicSection="string"==typeof t?document.getElementById(t):t,this.nInterval=e>0?e:2e3,this.dPicList=this.dPicSection.getElementsByTagName("div"),this.nPicNum=this.dPicList.length}catch(i){return i}this.nCurrentPic=this.nPicNum-1,this.nNextPic=0,this.fInitPicList(),this.dPicNav=this.dPicSection.getElementsByTagName("ul")[0],this.fInitPicNav(),clearTimeout(this.oTimer),this.fSwitch(),this.fStart()};t.prototype={constructor:t,fInitPicList:function(){var t=this;this.dPicSection.onmouseover=function(){t.fPause()},this.dPicSection.onmouseout=function(){t.fGoon()}},fInitPicNav:function(){for(var t=this,e="",i=this.nPicNum,o=0;i>o;o++)e+='<li style="list-style-type:none;"><a href="javascript:;" target="_self">'+(o+1)+"</a></li>";this.dPicNav.innerHTML=e;for(var n=this.dPicNav.getElementsByTagName("a"),s=n.length;s-->0;)n[s].nIndex=s,n[s].onclick=function(){return t.fGoto(this.nIndex),!1};this.dPicNavMenu=n},fSwitch:function(){var t=this.nCurrentPic,e=this.nNextPic;this.dPicList[e].style.display="",this.dPicList[t].style.display="none",this.dPicNavMenu[e].className="sel",this.dPicNavMenu[t].className="",this.nCurrentPic=e,this.nNextPic=e<this.nPicNum-1?e+1:0},fStart:function(){var t=this;this.oTimer=setTimeout(function(){t.fSwitch(),t.fStart()},this.nInterval)},fPause:function(){clearTimeout(this.oTimer)},fGoon:function(){clearTimeout(this.oTimer),this.fStart()},fGoto:function(t){var t=parseInt(t);return t==this.nCurrentPic?!1:(clearTimeout(this.oTimer),this.nNextPic=t,void this.fSwitch())}},window.fSwitchPic=t}();